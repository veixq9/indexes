{"version":3,"sources":["tunnl71/electron_game/control.cljs"],"mappings":"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","names":["tunnl71.electron-game.control/tapper-constructor","state","p1__70687#","c","cljs.core/deref","c__18802__auto__","cljs.core.async.chan","cljs.core.async.impl.dispatch/run","f__18803__auto__","switch__18732__auto__","state_70691","state_val_70692","cljs.core.async.impl.ioc-helpers/put!","inst_70689","cljs.core.async.impl.ioc-helpers/return-chan","statearr-70693","state-machine__18733__auto__","ret-value__18734__auto__","result__18735__auto__","cljs.core/keyword-identical?","ex__18736__auto__","e70694","statearr-70695","cljs.core/seq","statearr-70696","cljs.core/first","state__18804__auto__","statearr-70697","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","tunnl71.electron-game.control/init-tapper!","cljs.core.println","cljs.core/add-tap","tunnl71.electron-game.control/stop-tapper!","cljs.core/remove-tap","tunnl71.electron-game.control/init-executor!","cljs.core.swap_BANG_","cljs.core/assoc","state_70713","state_val_70714","statearr-70715","cljs.core.async.impl.ioc-helpers/take!","inst_70711","inst_70700","inst_70701","inst_70702","inst_70703","inst_70704","statearr-70716","statearr-70717","statearr-70718","statearr-70719","statearr-70720","inst_70709","statearr-70721","statearr-70722","e70723","statearr-70724","statearr-70725","statearr-70726","cljs.core._EQ_","tunnl71.electron-game.control/stop-executor!"],"sourcesContent":["(ns tunnl71.electron-game.control\n  (:require [clojure.core.async :as a]))\n\n(defn tapper-constructor\n  [state]\n  (let [c (:actions @state)]\n    #(a/go (a/>! c %))))\n\n(defn init-tapper!\n  [state]\n  (println \"init-tapper!\")\n  (add-tap (tapper-constructor state)))\n\n(defn stop-tapper!\n  [state]\n  (println \"stop-tapper!\")\n  (remove-tap (tapper-constructor state)))\n\n(defn init-executor!\n  [state]\n  (println \"init-executor!\")\n  (swap! state assoc :executor :running)\n  (let [c (:actions @state)]\n    (a/go-loop []\n      (let [action (a/<! c)]\n        (action state)\n        (when (= :running (:executor @state))\n          (recur))))))\n\n(defn stop-executor!\n  [state]\n  (println \"stop-executor!\")\n  (swap! state assoc :executor :stopped))\n"]}